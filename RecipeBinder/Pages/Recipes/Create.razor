@page "/Recipes/Create"

@attribute [Authorize]

<_RecipeForm recipe="recipe" operation="Create"></_RecipeForm>

@code {
    private Recipe recipe = new Recipe
    {
        Ingredients = new List<Ingredient>(),
        Directions = new List<Direction>(),
        RecipeCategories = new List<RecipeCategory>(),
        Readers = new List<Reader>(),
        Images = new List<Image>(),
        Likes = new List<Like>()
    };

    protected override async Task OnInitializedAsync()
    {
        AuthenticationState authState = await AuthenticationStateProvider.GetAuthenticationStateAsync();
        recipe.Owner = authState.User.Identity.Name;
    }
}
